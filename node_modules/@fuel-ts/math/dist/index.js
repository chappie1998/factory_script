"use strict";var v=Object.create;var B=Object.defineProperty;var w=Object.getOwnPropertyDescriptor;var A=Object.getOwnPropertyNames;var C=Object.getPrototypeOf,T=Object.prototype.hasOwnProperty;var U=(e,t)=>{for(var r in t)B(e,r,{get:t[r],enumerable:!0})},y=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of A(t))!T.call(e,o)&&o!==r&&B(e,o,{get:()=>t[o],enumerable:!(n=w(t,o))||n.enumerable});return e};var E=(e,t,r)=>(r=e!=null?v(C(e)):{},y(t||!e||!e.__esModule?B(r,"default",{value:e,enumerable:!0}):r,e)),F=e=>y(B({},"__esModule",{value:!0}),e);var H={};U(H,{BN:()=>i,DECIMAL_UNITS:()=>b,DEFAULT_MIN_PRECISION:()=>d,DEFAULT_PRECISION:()=>f,bn:()=>s,format:()=>D,formatUnits:()=>$,max:()=>P,multiply:()=>L,toBytes:()=>O,toFixed:()=>I,toHex:()=>S,toNumber:()=>R});module.exports=F(H);var N=E(require("bn.js"));var f=3,d=1,b=9;function I(e,t){let{precision:r=3,minPrecision:n=1}=t||{},[o="0",u="0"]=String(e||"0.0").split("."),p=/(\d)(?=(\d{3})+\b)/g,m=o.replace(p,"$1,"),a=u.slice(0,r);if(n<r){let c=a.match(/[1-9]/),h=(c==null?void 0:c.index)==null?-1:c.index,x=Math.max(n,h+1);a=a.slice(0,x)}let g=a?`.${a}`:"";return`${m}${g}`}var i=class extends N.default{constructor(t,r,n){if(i.isBN(t)){super(t.toArray(),r,n);return}if(typeof t=="string"&&t.slice(0,2)==="0x"){super(t.substring(2),r||"hex",n);return}let o=t==null?0:t;super(o,r,n)}toString(t,r){let n=super.toString(t,r);return t===16||t==="hex"?`0x${n}`:n}toHex(t){let n=(t||0)*2;if(this.isNeg())throw new Error("cannot convert negative value to hex");if(t&&this.byteLength()>t)throw new Error(`value ${this} exceeds bytes ${t}`);return this.toString(16,n)}toBytes(t){if(this.isNeg())throw new Error("cannot convert negative value to Bytes");return Uint8Array.from(this.toArray(void 0,t))}toJSON(){return this.toString(16)}format(t){let{units:r=9,precision:n=3,minPrecision:o=1}=t||{},u=this.formatUnits(r),p=I(u,{precision:n,minPrecision:o});if(!parseFloat(p)){let[,m="0"]=u.split("."),a=m.match(/[1-9]/);if(a&&a.index&&a.index+1>n){let[g="0"]=p.split(".");return`${g}.${m.slice(0,a.index+1)}`}}return p}formatUnits(t=9){let r=this.toString().slice(0,t*-1),n=this.toString().slice(t*-1),o=n.length,u=Array.from({length:t-o}).fill("0").join("");return`${r?`${r}.`:"0."}${u}${n}`}add(t){return this.caller(t,"add")}pow(t){return this.caller(t,"pow")}sub(t){return this.caller(t,"sub")}div(t){return this.caller(t,"div")}mul(t){return this.caller(t,"mul")}mod(t){return this.caller(t,"mod")}divRound(t){return this.caller(t,"divRound")}lt(t){return this.caller(t,"lt")}lte(t){return this.caller(t,"lte")}gt(t){return this.caller(t,"gt")}gte(t){return this.caller(t,"gte")}eq(t){return this.caller(t,"eq")}cmp(t){return this.caller(t,"cmp")}sqr(){return new i(super.sqr().toArray())}neg(){return new i(super.neg().toArray())}abs(){return new i(super.abs().toArray())}toTwos(t){return new i(super.toTwos(t).toArray())}fromTwos(t){return new i(super.fromTwos(t).toArray())}caller(t,r){let n=super[r](new i(t));return i.isBN(n)?new i(n.toArray()):n}clone(){return new i(this.toArray())}mulTo(t,r){let n=new N.default(this.toArray()).mulTo(t,r);return new i(n.toArray())}egcd(t){let{a:r,b:n,gcd:o}=new N.default(this.toArray()).egcd(t);return{a:new i(r.toArray()),b:new i(n.toArray()),gcd:new i(o.toArray())}}divmod(t,r,n){let{div:o,mod:u}=new N.default(this.toArray()).divmod(new i(t),r,n);return{div:new i(o==null?void 0:o.toArray()),mod:new i(u==null?void 0:u.toArray())}}},s=(e,t,r)=>new i(e,t,r);s.parseUnits=(e,t=9)=>{let r=e==="."?"0.":e,[n="0",o="0"]=r.split("."),u=o.length;if(u>t)throw new Error("Decimal can't be bigger than the units");let p=Array.from({length:t}).fill("0");p.splice(0,u,o);let m=`${n.replace(",","")}${p.join("")}`;return s(m)};function R(e){return s(e).toNumber()}function S(e,t){return s(e).toHex(t)}function O(e,t){return s(e).toBytes(t)}function $(e,t){return s(e).formatUnits(t)}function D(e,t){return s(e).format(t)}function P(...e){return e.reduce((t,r)=>s(r).gt(t)?s(r):t,s(0))}function L(...e){return s(Math.ceil(e.reduce((t,r)=>s(t).mul(r),s(1)).toNumber()))}0&&(module.exports={BN,DECIMAL_UNITS,DEFAULT_MIN_PRECISION,DEFAULT_PRECISION,bn,format,formatUnits,max,multiply,toBytes,toFixed,toHex,toNumber});
//# sourceMappingURL=index.js.map